window.copypasta.getElementCssPath=function(a,b){return a&&a.id?"#"+a.id:window.copypasta.getElementTreeCssPath(a,b)},window.copypasta.getElementTreeCssPath=function(a,b){var c=[];for(;a&&a.nodeType==1&&a!=b;a=a.parentNode){var d=0;for(var e=a.previousSibling;e;e=e.previousSibling){if(e.nodeType==Node.DOCUMENT_TYPE_NODE)continue;e.nodeName==a.nodeName&&++d}var f=a.nodeName.toLowerCase();var g=":eq("+d+")";c.splice(0,0,f+g)}return c.length?c.join(" "):null},window.copypasta.lightbox_init=function(a){a.fn.lightbox_me=function(b){return this.each(function(){var c=a.extend({},a.fn.lightbox_me.defaults,b),d=a("div."+c.classPrefix+"_overlay"),e=a(this),f=a("iframe#lb_iframe"),g=a.browser.msie&&a.browser.version<7;d.length>0?d[0].removeModal():d=a("<div class=\""+c.classPrefix+"_overlay\" style=\"display:none;\"/>"),f=f.length>0?f:f=a("<iframe id=\"lb_iframe\" style=\"z-index: "+(c.zIndex+1)+"; display: none; border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0;\"/>");if(g){var h=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";f.attr("src",h),a("body").append(f)}a("body").append(e).append(d),m(),e.css({left:"50%",marginLeft:e.outerWidth()/2*-1,zIndex:c.zIndex+3}),l(),d.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:c.zIndex+2}).css(c.overlayCSS),d.is(":hidden")?d.fadeIn(c.overlaySpeed,function(){e[c.appearEffect](c.lightboxSpeed,function(){l(),c.onLoad()})}):e[c.appearEffect](c.lightboxSpeed,function(){l(),c.onLoad()}),a(window).resize(l).resize(m).scroll(m).keydown(k),e.find(c.closeSelector).click(function(){i(true);return false}),d.click(function(){if(c.closeClick){i(true);return false}}),e.bind("close",function(){i(true)}),e.bind("resize",m),d[0].removeModal=i;function i(b){e[c.disappearEffect](c.lightboxDisappearSpeed,function(){b&&j(),c.destroyOnClose?e.remove():e.hide(),e.find(c.closeSelector).unbind("click"),e.unbind("close"),e.unbind("resize"),a(window).unbind("scroll",m),a(window).unbind("resize",m)})}function j(){d.fadeOut(c.overlayDisappearSpeed,function(){a(window).unbind("resize",l),d.remove(),d.unbind("click"),c.onClose()})}function k(a){(a.keyCode==27||a.DOM_VK_ESCAPE==27&&a.which==0)&&c.closeEsc&&i(true)}function l(){a(window).height()<a(document).height()?d.css({height:a(document).height()+"px"}):(d.css({height:"100%"}),g&&a("html,body").css("height","100%"))}function m(){var b=e[0].style;if(e.height()+80>=a(window).height()&&(e.css("position")!="absolute"||g)){var d=a(document).scrollTop()+40;e.css({position:"absolute",top:d+"px",marginTop:0}),g&&b.removeExpression("top")}else if(e.height()+80<a(window).height())if(g){b.position="absolute";if(c.centered)b.setExpression("top","(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + \"px\""),b.marginTop=0;else{var f=c.modalCSS&&c.modalCSS.top?parseInt(c.modalCSS.top):0;b.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+f+") + \"px\"")}}else c.centered?e.css({position:"fixed",top:"50%",marginTop:e.outerHeight()/2*-1}):e.css({position:"fixed"}).css(c.modalCSS)}})},a.fn.lightbox_me.defaults={appearEffect:"fadeIn",overlaySpeed:300,lightboxSpeed:"fast",disappearEffect:"fadeOut",overlayDisappearSpeed:300,lightboxDisappearSpeed:"fast",closeSelector:".close",closeClick:true,closeEsc:true,destroyOnClose:false,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:false,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.6}}}